<!DOCTYPE html>
<html>
<head>
  <title>Canvas</title>
</head>

<body>
  <canvas id="canvas" width="1000" height="1000"></canvas>

  <script type="text/javascript">
  		var zero = [[1,1,1,1],
  				   [1,0,0,1],
  				   [1,0,0,1],
  				   [1,0,0,1],
  				   [1,0,0,1],
  			       [1,0,0,1],
  			       [1,1,1,1]]

  		var one = [[0,0,0,1],
  				   [0,0,0,1],
  				   [0,0,0,1],
  				   [0,0,0,1],
  				   [0,0,0,1],
  			       [0,0,0,1],
  			       [0,0,0,1]]

  		var two = [[1,1,1,1],
  				    [0,0,0,1],
  				    [0,0,0,1],
  				    [1,1,1,1],
  				    [1,0,0,0],
  			        [1,0,0,0],
  			        [1,1,1,1]]

  		var three = [[1,1,1,1],
  				    [0,0,0,1],
  				    [0,0,0,1],
  				    [1,1,1,1],
  				    [0,0,0,1],
  			        [0,0,0,1],
  			        [1,1,1,1]]

  		var four = [[1,0,0,1],
  				    [1,0,0,1],
  				    [1,0,0,1],
  				    [1,1,1,1],
  				    [0,0,0,1],
  			        [0,0,0,1],
  			        [0,0,0,1]]

  		var five = [[1,1,1,1],
  				    [1,0,0,0],
  				    [1,0,0,0],
  				    [1,1,1,1],
  				    [0,0,0,1],
  			        [0,0,0,1],
  			        [1,1,1,1]]

  		var six = [[1,1,1,1],
  				    [1,0,0,0],
  				    [1,0,0,0],
  				    [1,1,1,1],
  				    [1,0,0,1],
  			        [1,0,0,1],
  			        [1,1,1,1]]

  		var seven = [[1,1,1,1],
  				    [0,0,0,1],
  				    [0,0,0,1],
  				    [0,0,0,1],
  				    [0,0,0,1],
  			        [0,0,0,1],
  			        [0,0,0,1]]

  		var eight = [[1,1,1,1],
  				    [1,0,0,1],
  				    [1,0,0,1],
  				    [1,1,1,1],
  				    [1,0,0,1],
  			        [1,0,0,1],
  			        [1,1,1,1]]

  		var nine = [[1,1,1,1],
  				    [1,0,0,1],
  				    [1,0,0,1],
  				    [1,1,1,1],
  				    [0,0,0,1],
  			        [0,0,0,1],
  			        [1,1,1,1]]

  		

  		var canvas = document.getElementById('canvas');
  		var ctx = canvas.getContext('2d');


  		
  		setInterval(function(){

  			var date = new Date();

  			var hours = formatter(date.getHours());

  			var minutes = formatter(date.getMinutes());

  			var seconds = formatter(date.getSeconds()+1);	

  			//console.log(hours+':'+minutes+':'+seconds);

  			// 生成数组

  			var arr = [];

  			arr = create(hours,minutes,seconds);

  			console.log(arr.length);


  			ctx.clearRect(0,0,canvas.width,canvas.height);  

  			for(var k = 0;k<arr.length;k++){
	  			draw_number(arr[k],k);
	  		}

  		},1000)
  		
  		function create(){
  			// console.log(arguments);
  			var arr = [];

  			for(var i = 0;i<arguments.length;i++){
  				var numbers = arguments[i].split('');
  				for(var j = 0;j<numbers.length;j++){
  					switch(numbers[j]){
  						case '0':
  							arr.push(zero);
  							break;
  						case '1':
  							arr.push(one);
  							break;
  						case '2':
  							arr.push(two);
  							break;
  						case '3':
  							arr.push(three);
  							break;
  						case '4':
  							arr.push(four);
  							break;
  						case '5':
  							arr.push(five);
  							break;
  						case '6':
  							arr.push(six);
  							break;
  						case '7':
  							arr.push(seven);
  							break;
  						case '8':
  							arr.push(eight);
  							break;
  						case '9':
  							arr.push(nine);
  							break;
  					}
  				}
  			}

  			return arr;

  		}

  		function formatter(i){
  			if(i > 9)
  				return ''+i;
  			else
  				return ''+0+i;

  		}

  		// 绘制单个数字或字符
  		function draw_number(arr,k) {
  			// body...
  			for(var i = 0 ; i < arr.length; i++){
  			for(var j = 0 ; j < arr[i].length; j++){
  				if(arr[i][j] === 1){
  					
  					ctx.beginPath();   
  					ctx.fillStyle = 'rgb('+Math.ceil(Math.random()*255)+','+Math.ceil(Math.random()*255)+','+ Math.ceil(Math.random()*255)+')'; 
  					ctx.arc((j+1)*25+k*120,(i+1)*25,10,0,360,false); 
  					ctx.fill();   
  					
  				}
  				

  			}
  		}
  		}

  </script>


</body>
</html>
